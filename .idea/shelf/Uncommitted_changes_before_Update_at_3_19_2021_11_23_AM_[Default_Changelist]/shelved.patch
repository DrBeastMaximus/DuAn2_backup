Index: src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.backend_final_project.controller.User.RESTController;\r\n\r\nimport com.example.backend_final_project.Utils.MailSender;\r\nimport com.example.backend_final_project.Utils.TokenFactory;\r\nimport com.example.backend_final_project.model.User;\r\nimport com.example.backend_final_project.model.UsersToken;\r\nimport com.example.backend_final_project.service.Impl.UserServicelmpl;\r\nimport com.example.backend_final_project.service.Impl.UsersTokenServiceImpl;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.mail.MessagingException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.net.URI;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\n@RestController\r\n@RequestMapping(\"/api/auth/forgot\")\r\npublic class ForgotPassREST {\r\n    @Autowired\r\n    private UserServicelmpl userService;\r\n    @Autowired\r\n    private UsersTokenServiceImpl tokenService;\r\n\r\n    @GetMapping(\"/{email}\")\r\n    public boolean resetPassword(@PathVariable String email, HttpServletRequest request) throws MessagingException {\r\n        User user = userService.getUserByEmail(email);\r\n        if(user!=null){\r\n            String token = TokenFactory.generateToken(user);\r\n            Calendar c = Calendar.getInstance();\r\n            c.setTime(new Date());\r\n            c.add(Calendar.DATE, 1);\r\n            UsersToken tokens = tokenService.getUserTokenByUID(user.getId());\r\n            tokens.setPasswordReminderToken(token);\r\n            tokens.setPasswordReminderExpire(c.getTime());\r\n            tokenService.updateToken(tokens);\r\n            MailSender.sendText(user.getEmail(),\r\n                    \"Link khôi phục tài khoản DW Fashion của bạn\",\r\n                    \"Link:\"+\"http://dwhigh.tech:8080\"+ \"/api/auth/forgot/emailconfirm/\"+token);\r\n            return true;\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n    @GetMapping(\"/emailconfirm/{token}\")\r\n    public ResponseEntity<?> confirmEmail(@PathVariable String token){\r\n        if(TokenFactory.validateToken(token)) {\r\n            String id = TokenFactory.getUserIdFromJWT(token);\r\n            User user = userService.getUserById(Integer.parseInt(id));\r\n\r\n            if (user != null) {\r\n                UsersToken tokens = tokenService.getUserTokenByUID(Integer.parseInt(id));\r\n                if (tokens.getPasswordReminderExpire().equals(new Date())) {\r\n                    tokens.setPasswordReminderExpire(null);\r\n                    tokens.setPasswordReminderToken(null);\r\n                    tokenService.updateToken(tokens);\r\n                    return ResponseEntity.ok(\"Token is out of date\");\r\n                } else {\r\n                    tokens.setAccountStatus(3);\r\n                    tokenService.updateToken(tokens);\r\n                    return ResponseEntity.status(HttpStatus.FOUND).location(URI.create(\"https://dwhigh.tech/resetpass\")).build();\r\n                }\r\n\r\n            } else {\r\n                return ResponseEntity.ok(\"Token is not valid\");\r\n            }\r\n        } else{return ResponseEntity.ok(\"Token is not valid\");}\r\n    }\r\n\r\n    @PostMapping(\"/recover\")\r\n    public ResponseEntity<?> recover(@RequestBody JsonNode json){\r\n        String token = json.get(\"token\").asText();\r\n        String newPass = json.get(\"newPassword\").asText();\r\n        String confirm = json.get(\"confirm\").asText();\r\n        if (StringUtils.hasText(token) && TokenFactory.validateToken(token)) {\r\n            int userId = Integer.parseInt(TokenFactory.getUserIdFromJWT(token));\r\n            User usr = userService.getUserById(userId);\r\n            if (usr != null) {\r\n                UsersToken tokens = tokenService.getUserTokenByUID(userId);\r\n                if(tokens.getAccountStatus()==3){\r\n                    if(confirm.equals(newPass)){\r\n                        usr.setPassword(newPass);\r\n                        userService.updateUser(usr);\r\n                        tokens.setPasswordReminderExpire(null);\r\n                        tokens.setPasswordReminderToken(null);\r\n                        tokens.setAccountStatus(1);\r\n                        tokenService.updateToken(tokens);\r\n                        return ResponseEntity.ok(\"Đã khôi phục tài khoản thành công\");\r\n                    } else{return ResponseEntity.ok(\"Mật khẩu không đúng với xác nhận\");}\r\n                } else {\r\n                return ResponseEntity.ok(\"Link khôi phục tài khoản sai hoặc hết hạn\");}\r\n            } else {\r\n                return ResponseEntity.ok(\"Link khôi phục tài khoản sai hoặc hết hạn\");\r\n            }\r\n        }{return ResponseEntity.ok(\"Link khôi phục tài khoản sai hoặc hết hạn\");}\r\n    }\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java b/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java
--- a/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java	(revision 22e15b570d46900e0cfd110a2e75c0af7277be87)
+++ b/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java	(date 1616153013540)
@@ -63,7 +63,7 @@
                 } else {
                     tokens.setAccountStatus(3);
                     tokenService.updateToken(tokens);
-                    return ResponseEntity.status(HttpStatus.FOUND).location(URI.create("https://dwhigh.tech/resetpass")).build();
+                    return ResponseEntity.status(HttpStatus.FOUND).location(URI.create("https://dwhigh.tech/resetpass/"+token)).build();
                 }
 
             } else {
Index: target/classes/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=Demo\r\nspring.datasource.username=sa\r\nspring.datasource.password=songlong\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\n\r\n# 10 minutes\r\nspring.datasource.hikari.maxLifetime=600000\r\n# 5 minutes\r\nspring.datasource.hikari.idleTimeout=300000\r\nspring.datasource.hikari.minimumIdle=10\r\nspring.datasource.hikari.maximumPoolSize=50\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>windows-1252
===================================================================
diff --git a/target/classes/application.properties b/target/classes/application.properties
--- a/target/classes/application.properties	(revision 22e15b570d46900e0cfd110a2e75c0af7277be87)
+++ b/target/classes/application.properties	(date 1616130778584)
@@ -13,7 +13,9 @@
 spring.datasource.hikari.idleTimeout=300000
 spring.datasource.hikari.minimumIdle=10
 spring.datasource.hikari.maximumPoolSize=50
-
+spring.datasource.tomcat.test-on-borrow=true
+spring.datasource.tomcat.validation-query="SELECT 1"
+spring.datasource.tomcat.validation-interval=0
 
 
 
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"ALL\" />\r\n  </component>\r\n  <component name=\"BranchesTreeState\">\r\n    <expand>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"LOCAL_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n      <path>\r\n        <item name=\"ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"REMOTE_ROOT\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n        <item name=\"GROUP_NODE:origin\" type=\"e8cecc67:BranchNodeDescriptor\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"a5184346-3d29-4ddf-ad11-3dc54e0f6be0\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/compiler.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/compiler.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/application.properties\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"DatabaseView\">\r\n    <option name=\"SHOW_INTERMEDIATE\" value=\"true\" />\r\n    <option name=\"GROUP_DATA_SOURCES\" value=\"true\" />\r\n    <option name=\"GROUP_SCHEMA\" value=\"true\" />\r\n    <option name=\"GROUP_CONTENTS\" value=\"false\" />\r\n    <option name=\"SORT_POSITIONED\" value=\"false\" />\r\n    <option name=\"SHOW_EMPTY_GROUPS\" value=\"false\" />\r\n    <option name=\"AUTO_SCROLL_FROM_SOURCE\" value=\"false\" />\r\n    <option name=\"HIDDEN_KINDS\">\r\n      <set />\r\n    </option>\r\n    <expand>\r\n      <path>\r\n        <item name=\"Database\" type=\"3277223f:DatabaseStructure$DbRootGroup\" />\r\n        <item name=\"DEMO@localhost\" type=\"feb32156:DbDataSourceImpl\" />\r\n      </path>\r\n    </expand>\r\n    <select />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n        <option value=\"Interface\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n    <option name=\"UPDATE_TYPE\" value=\"MERGE\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1oohJ2V4NQrxYSILDMBFwEqDWJv\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"DatabaseDriversLRU\" value=\"sqlserver\" />\r\n    <property name=\"DefaultHtmlFileTemplate\" value=\"HTML File\" />\r\n    <property name=\"RequestMappingsPanelOrder0\" value=\"0\" />\r\n    <property name=\"RequestMappingsPanelOrder1\" value=\"1\" />\r\n    <property name=\"RequestMappingsPanelWidth0\" value=\"75\" />\r\n    <property name=\"RequestMappingsPanelWidth1\" value=\"75\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"android.sdk.path\" value=\"$PROJECT_DIR$/../AndroidSDK\" />\r\n    <property name=\"aspect.path.notification.shown\" value=\"true\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/../../backup/DuAn2_backup\" />\r\n    <property name=\"nodejs_interpreter_path.stuck_in_default_project\" value=\"undefined stuck path\" />\r\n    <property name=\"nodejs_npm_path_reset_for_default_project\" value=\"true\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"MavenSettings\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\DuAn2_backup\\src\\main\\resources\\templates\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Spring Boot.BackendFinalProjectApplication (1)\">\r\n    <configuration name=\"BackendFinalProjectApplication (1)\" type=\"SpringBootApplicationConfigurationType\" factoryName=\"Spring Boot\">\r\n      <module name=\"backend_final_project\" />\r\n      <option name=\"SPRING_BOOT_MAIN_CLASS\" value=\"com.example.backend_final_project.BackendFinalProjectApplication\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"BackendFinalProjectApplication\" type=\"SpringBootApplicationConfigurationType\" factoryName=\"Spring Boot\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"DuAn2_backup\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"com.example.backend_final_project.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <option name=\"SPRING_BOOT_MAIN_CLASS\" value=\"com.example.backend_final_project.BackendFinalProjectApplication\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Spring Boot.BackendFinalProjectApplication\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"ServiceViewManager\">\r\n    <option name=\"viewStates\">\r\n      <list>\r\n        <serviceView>\r\n          <treeState>\r\n            <expand />\r\n            <select />\r\n          </treeState>\r\n        </serviceView>\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"a5184346-3d29-4ddf-ad11-3dc54e0f6be0\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1613958774914</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1613958774914</updated>\r\n      <workItem from=\"1613958778599\" duration=\"963000\" />\r\n      <workItem from=\"1613960302730\" duration=\"17615000\" />\r\n      <workItem from=\"1614034946962\" duration=\"15132000\" />\r\n      <workItem from=\"1614066326504\" duration=\"6533000\" />\r\n      <workItem from=\"1614133238420\" duration=\"4447000\" />\r\n      <workItem from=\"1614210629624\" duration=\"12211000\" />\r\n      <workItem from=\"1614418470978\" duration=\"5867000\" />\r\n      <workItem from=\"1614425545307\" duration=\"1111000\" />\r\n      <workItem from=\"1614434140120\" duration=\"8089000\" />\r\n      <workItem from=\"1614515920948\" duration=\"4361000\" />\r\n      <workItem from=\"1614600528151\" duration=\"155000\" />\r\n      <workItem from=\"1614769338778\" duration=\"17808000\" />\r\n      <workItem from=\"1614835073973\" duration=\"7587000\" />\r\n      <workItem from=\"1614949258163\" duration=\"39000\" />\r\n      <workItem from=\"1614949338301\" duration=\"2073000\" />\r\n      <workItem from=\"1615175362234\" duration=\"28202000\" />\r\n      <workItem from=\"1615269455706\" duration=\"71335000\" />\r\n      <workItem from=\"1615604999990\" duration=\"2200000\" />\r\n      <workItem from=\"1615613551805\" duration=\"1519000\" />\r\n      <workItem from=\"1615621902100\" duration=\"5834000\" />\r\n      <workItem from=\"1615631096029\" duration=\"2686000\" />\r\n      <workItem from=\"1615637442070\" duration=\"8351000\" />\r\n      <workItem from=\"1615965453904\" duration=\"779000\" />\r\n      <workItem from=\"1615966310812\" duration=\"48000\" />\r\n      <workItem from=\"1615967016466\" duration=\"1188000\" />\r\n      <workItem from=\"1615969091741\" duration=\"48965000\" />\r\n      <workItem from=\"1616074845243\" duration=\"767000\" />\r\n      <workItem from=\"1616094396592\" duration=\"2402000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Thêm Class DAO\">\r\n      <created>1613982667329</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613982667329</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Thêm Class DAO mới\">\r\n      <created>1613982723061</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1613982723061</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Thêm function cho DAO\">\r\n      <created>1614041602936</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614041602936</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Thêm function cho DAO\">\r\n      <created>1614049371379</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614049371379</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Thêm function cho DAO s\">\r\n      <created>1614049392646</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614049392646</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Thêm function .cho DAO\">\r\n      <created>1614049490928</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614049490928</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Thêm function .cho DAO\">\r\n      <created>1614049597254</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614049597254</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"Sửa DAO\">\r\n      <created>1614067372009</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614067372009</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"Chỉnh lý lại các Class\">\r\n      <created>1614071269520</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614071269520</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Chỉnh lý lại các Class\">\r\n      <created>1614072119802</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614072119802</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"DAO hoàn thành 1/2 đến NewsletterDAO\">\r\n      <created>1614137721261</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614137721261</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"DAO hoàn thành.\">\r\n      <created>1614222517694</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1614222517694</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"Update 17/3/2021\">\r\n      <created>1615969285569</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1615969285570</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"Update 17/3/2021\">\r\n      <created>1615972167390</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1615972167390</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"API hoàn thành. Test 30%\">\r\n      <created>1615995220857</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1615995220857</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"API hoàn thành. Test 30%\">\r\n      <created>1615995557500</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1615995557500</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"API hoàn thành. Test 30% ok\">\r\n      <created>1615995630843</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1615995630843</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"18\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Thêm Class DAO\" />\r\n    <MESSAGE value=\"Thêm Class DAO mới\" />\r\n    <MESSAGE value=\"Thêm function cho DAO\" />\r\n    <MESSAGE value=\"Thêm function cho DAO s\" />\r\n    <MESSAGE value=\"Thêm function .cho DAO\" />\r\n    <MESSAGE value=\"Sửa DAO\" />\r\n    <MESSAGE value=\"Chỉnh lý lại các Class\" />\r\n    <MESSAGE value=\"DAO hoàn thành 1/2 đến NewsletterDAO\" />\r\n    <MESSAGE value=\"DAO hoàn thành.\" />\r\n    <MESSAGE value=\"Update 17/3/2021\" />\r\n    <MESSAGE value=\"API hoàn thành. Test 30%\" />\r\n    <MESSAGE value=\"API hoàn thành. Test 30% ok\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"API hoàn thành. Test 30% ok\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/Admin/UserController.java</url>\r\n          <line>62</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/Admin/UserController.java</url>\r\n          <line>64</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/Admin/UserController.java</url>\r\n          <line>65</line>\r\n          <option name=\"timeStamp\" value=\"3\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/Admin/UserController.java</url>\r\n          <line>136</line>\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>125</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>123</line>\r\n          <option name=\"timeStamp\" value=\"6\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>121</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>119</line>\r\n          <option name=\"timeStamp\" value=\"8\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>120</line>\r\n          <option name=\"timeStamp\" value=\"9\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>107</line>\r\n          <option name=\"timeStamp\" value=\"10\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>20</line>\r\n          <option name=\"timeStamp\" value=\"11\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>22</line>\r\n          <option name=\"timeStamp\" value=\"12\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.java</url>\r\n          <line>26</line>\r\n          <option name=\"timeStamp\" value=\"15\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CommentREST.java</url>\r\n          <line>26</line>\r\n          <option name=\"timeStamp\" value=\"21\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CommentREST.java</url>\r\n          <line>28</line>\r\n          <option name=\"timeStamp\" value=\"22\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CommentREST.java</url>\r\n          <line>29</line>\r\n          <option name=\"timeStamp\" value=\"24\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CommentREST.java</url>\r\n          <line>30</line>\r\n          <option name=\"timeStamp\" value=\"25\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CommentREST.java</url>\r\n          <line>32</line>\r\n          <option name=\"timeStamp\" value=\"26\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/DashboardREST.java</url>\r\n          <line>67</line>\r\n          <option name=\"timeStamp\" value=\"38\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/DashboardREST.java</url>\r\n          <line>68</line>\r\n          <option name=\"timeStamp\" value=\"39\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/DashboardREST.java</url>\r\n          <line>69</line>\r\n          <option name=\"timeStamp\" value=\"40\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/DashboardREST.java</url>\r\n          <line>70</line>\r\n          <option name=\"timeStamp\" value=\"41\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/DashboardREST.java</url>\r\n          <line>73</line>\r\n          <option name=\"timeStamp\" value=\"42\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/NewsletterREST.java</url>\r\n          <line>28</line>\r\n          <option name=\"timeStamp\" value=\"48\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>127</line>\r\n          <option name=\"timeStamp\" value=\"81\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>124</line>\r\n          <option name=\"timeStamp\" value=\"82\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>123</line>\r\n          <option name=\"timeStamp\" value=\"83\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>122</line>\r\n          <option name=\"timeStamp\" value=\"84\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>120</line>\r\n          <option name=\"timeStamp\" value=\"85\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>121</line>\r\n          <option name=\"timeStamp\" value=\"86\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>119</line>\r\n          <option name=\"timeStamp\" value=\"87\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>118</line>\r\n          <option name=\"timeStamp\" value=\"88\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>116</line>\r\n          <option name=\"timeStamp\" value=\"89\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.java</url>\r\n          <line>117</line>\r\n          <option name=\"timeStamp\" value=\"90\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 22e15b570d46900e0cfd110a2e75c0af7277be87)
+++ b/.idea/workspace.xml	(date 1616153013618)
@@ -22,11 +22,14 @@
     <select />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="a5184346-3d29-4ddf-ad11-3dc54e0f6be0" name="Default Changelist" comment="">
-      <change beforePath="$PROJECT_DIR$/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/compiler.xml" afterDir="false" />
+    <list default="true" id="a5184346-3d29-4ddf-ad11-3dc54e0f6be0" name="Default Changelist" comment="Fix them.">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/META-INF/DuAn2_backup.kotlin_module" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/CheckoutPageREST.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/ForgotPassREST.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/example/backend_final_project/controller/User/RESTController/ProductPageREST.class" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -172,7 +175,7 @@
       <workItem from="1615967016466" duration="1188000" />
       <workItem from="1615969091741" duration="48965000" />
       <workItem from="1616074845243" duration="767000" />
-      <workItem from="1616094396592" duration="2402000" />
+      <workItem from="1616094396592" duration="4622000" />
     </task>
     <task id="LOCAL-00001" summary="Thêm Class DAO">
       <created>1613982667329</created>
@@ -293,7 +296,14 @@
       <option name="project" value="LOCAL" />
       <updated>1615995630843</updated>
     </task>
-    <option name="localTasksCounter" value="18" />
+    <task id="LOCAL-00018" summary="Fix them.">
+      <created>1616130758881</created>
+      <option name="number" value="00018" />
+      <option name="presentableId" value="LOCAL-00018" />
+      <option name="project" value="LOCAL" />
+      <updated>1616130758881</updated>
+    </task>
+    <option name="localTasksCounter" value="19" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -324,7 +334,8 @@
     <MESSAGE value="Update 17/3/2021" />
     <MESSAGE value="API hoàn thành. Test 30%" />
     <MESSAGE value="API hoàn thành. Test 30% ok" />
-    <option name="LAST_COMMIT_MESSAGE" value="API hoàn thành. Test 30% ok" />
+    <MESSAGE value="Fix them." />
+    <option name="LAST_COMMIT_MESSAGE" value="Fix them." />
   </component>
   <component name="XDebuggerManager">
     <breakpoint-manager>
